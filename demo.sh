#!/bin/bash

echo "🎬 Claude Code Notifier 项目演示"
echo "================================"
echo ""

PROJECT_DIR="$(pwd)"
echo "📂 项目目录: $PROJECT_DIR"
echo ""

echo "📋 项目结构:"
tree -I '__pycache__' || find . -type f -name '*.py' -o -name '*.sh' -o -name '*.md' -o -name '*.yaml' | head -20

echo ""
echo "✨ 核心特性:"
echo "   🎯 智能检测 - 自动检测权限操作和任务完成"
echo "   🌍 全局生效 - 一次配置，所有项目自动启用"
echo "   🔌 多渠道支持 - 钉钉、飞书、企业微信、Telegram 等"
echo "   🎨 美化通知 - 精美的卡片格式和分层设计"
echo "   ⚙️ 易于配置 - 简单的配置文件和安装脚本"
echo "   🔒 安全可靠 - 支持签名验证和加密传输"

echo ""
echo "📱 支持的通知渠道:"
echo "   ✅ 钉钉机器人 (ActionCard + Markdown)"
echo "   ✅ 飞书机器人 (富文本 + 交互卡片)"
echo "   ✅ 企业微信机器人 (Markdown + 图文消息)"
echo "   ✅ Telegram Bot (消息推送)"
echo "   ✅ 邮箱 SMTP (邮件推送)"
echo "   ✅ Server酱 (微信推送)"

echo ""
echo "🚀 快速开始:"
echo "   1. ./install.sh           # 一键安装"
echo "   2. ./scripts/configure.sh # 配置通知渠道"
echo "   3. ./scripts/test.sh      # 测试通知功能"

echo ""
echo "📊 通知类型:"
echo "   🔐 权限确认 - 检测到敏感操作时发送"
echo "   ✅ 任务完成 - Claude Code 完成工作时发送"
echo "   🧪 系统测试 - 验证通知功能正常"

echo ""
echo "⚙️ 配置文件: ~/.claude-notifier/config.yaml"
echo "🪝 钩子配置: ~/.claude/settings.json"
echo "📝 日志文件: ~/.claude-notifier/logs/notifier.log"

echo ""
echo "🎯 使用场景演示:"
echo ""
echo "场景1: 权限确认"
echo "   当执行: sudo systemctl restart nginx"
echo "   效果: 📱 收到权限确认通知，暂停执行等待确认"
echo ""
echo "场景2: 任务完成"  
echo "   当 Claude Code 完成任务"
echo "   效果: 📱 收到完成庆祝通知，提醒可以休息"
echo ""

echo "🛠️ 项目文件说明:"
echo "   📁 src/                   # 源代码目录"
echo "      ├── channels/          # 通知渠道实现"
echo "      │   ├── base.py        # 基础类"
echo "      │   ├── dingtalk.py    # 钉钉渠道"
echo "      │   ├── feishu.py      # 飞书渠道"
echo "      │   └── ...            # 其他渠道"
echo "      └── notifier.py        # 通知管理器"
echo "   📁 scripts/               # 管理脚本"
echo "      ├── configure.sh       # 配置向导"
echo "      └── test.sh            # 测试工具"
echo "   📁 config/                # 配置模板"
echo "   📁 docs/                  # 文档"
echo "   🔧 install.sh             # 安装脚本"
echo "   📄 README.md              # 项目说明"

echo ""
echo "🌟 项目亮点:"
echo "   • 基于 Claude Code 钩子系统，无侵入式集成"
echo "   • 支持多种通知渠道，满足不同团队需求"
echo "   • 美化的通知格式，提升用户体验"
echo "   • 智能检测机制，避免误报和重复通知"
echo "   • 开源项目，可自由定制和扩展"

echo ""
echo "📈 技术架构:"
echo "   • 语言: Python 3.6+ (跨平台兼容)"
echo "   • 依赖: requests, pyyaml (轻量级)"
echo "   • 集成: Claude Code Hooks (官方支持)"
echo "   • 配置: YAML 格式 (易读易写)"
echo "   • 日志: 标准 logging 模块"

echo ""
echo "🔧 安装要求:"
echo "   • Python 3.6+"
echo "   • Claude Code (最新版本)"
echo "   • macOS / Linux / Windows"
echo "   • 网络连接 (用于发送通知)"

echo ""
echo "🎊 项目演示完成！"
echo ""
echo "如果你觉得这个项目有用，请考虑:"
echo "   ⭐ 给项目点个 Star"
echo "   🔄 Fork 并贡献代码"
echo "   📢 分享给其他 Claude Code 用户"
echo "   🐛 反馈问题和建议"
echo ""
echo "📖 获取更多信息:"
echo "   GitHub: https://github.com/your-username/claude-code-notifier"
echo "   文档: https://github.com/your-username/claude-code-notifier#readme"
echo ""
echo "💝 感谢使用 Claude Code Notifier！"
